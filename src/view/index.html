<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Clover-home</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
<meta name="author" content="gavinning" />
<meta name="copyright" content="Copyright (c) 2014-2015 gavinning." />
<meta name="description" content="Clover" />
<meta name="format-detection" content="telephone=no">
<link id="homeStyle" rel="stylesheet" href="css/home.css"/>
</head>
<body>

<div class="clover-page clover-page-create-animate" id="page-create-animate">
	<header class="clover-header">
		<div class="clover-logo"></div>
		<div class="header-control">
			<div class="current-animate">当前动画：<span id="currentAnimate">新动画</span></div>
			<button id="btnCode" class="btn btn-code" title="打印代码"></button>
			<button id="btnDelete" class="btn btn-delete dn"></button>
			<button id="btnSave" class="btn btn-save"></button>
			<button id="btnAdd" class="btn btn-add dn"></button>
			<button id="btnPlay" class="btn btn-play" title="播放动画"></button>
		</div>
		<div class="header-aside"></div>
	</header>
	<div class="clover-content">
		<div class="clover-aside instance-left">

			<div class="forms animate-args">
				<label class="effect-label" for="">
					<strong class="u-title">动画时间</strong>
					<input sign="time" class="animate-input" type="text" data-value="1s" value="1s">
					<input name="time" type="range" min="0" max="100" value="10" algorithm="0.1" unit="s">
				</label>

				<label class="effect-label" for="">
					<strong class="u-title">动画延迟时间</strong>
					<input sign="delay" class="animate-input" type="text" data-value="0" placeholder="0s">
					<input name="delay" type="range" min="0" max="100" value="0" algorithm="0.1" unit="s">
				</label>

				<label class="effect-label" for="">
					<strong class="u-title">动画轨迹</strong>
					<div id="slideOptions" class="slide-options">
						<i class="selected">ease</i>
						<i>linear</i>
						<i>ease-in</i>
						<i>ease-out</i>
						<i>ease-in-out</i>
					</div>
					<input sign="function" class="animate-input" type="hidden" data-value="ease" value="ease">
				</label>
			</div>

			<div class="forms animate-effect">
				<label class="effect-label" for="">
					<strong class="u-title">位移</strong>
					<input sign="translate3d" class="animate-input process-input gray" type="text" data-value="0%,0%,0%" placeholder="0%, 0%, 0%">
				</label>

				<label class="effect-label" for="">
					<strong class="u-title">透明度</strong>
					<input sign="opacity" class="animate-input process-input" type="text" placeholder="0 ~ 1">
					<input name="opacity" type="range" min="0" max="100" value="50" algorithm="0.01">
				</label>

				<label class="effect-label" for="">
					<strong class="u-title">旋转</strong>
					<input sign="rotate" class="animate-input process-input" type="text" placeholder="0deg">
					<input name="rotate" type="range" min="0" max="360" value="180" algorithm="1" unit="deg">
				</label>

				<label class="effect-label" for="">
					<strong class="u-title">缩放</strong>
					<input sign="scale" class="animate-input process-input" type="text" placeholder="1">
					<input name="scale" type="range" min="0" max="100" value="100" algorithm="0.01">
				</label>

			</div>

		</div>

		<div id="cloverDragCanvas" class="clover-drag-area">
			<div class="clover-timeline"></div>
			<img id="apElement" class="ap selected" width="160" src="images/2.png">
		</div>

		<div class="clover-aside instance-right">
			<div class="clover-help imp">
				<h3>创建动画示例操作-1：</h3>
				<p>1. 点击选中100%关键帧，被选中后灰色色块将变为红色。</p>
				<p>2. 拖动画布中图片到最右边，点击顶部播放按钮。</p>
			</div>
			<div class="clover-help imp">
				<h3>创建动画示例操作-2：</h3>
				<p>1. 刷新页面清空已有动画</p>
				<p>2. 双击时间轴任意空白处创建自由关键帧，拖动画布中图片到任意你想要的位置。</p>
				<p>3. 点击选中100%关键帧，拖动画布中图片到任意你想要的位置，不同之前的位置即可。</p>
				<p>4. 播放</p>
			</div>
			<div class="clover-help imp">
				<h3>创建动画示例操作-3：</h3>
				<p>1. 左侧是更丰富的动画参数，自由发挥吧，你可以的</p>
			</div>
			
			<div class="clover-help">
				<h3>一些说明：</h3>
				<p>1. 首先找到footer上方的时间轴，时间轴上的色块是动画关键帧，用于控制动画流程。</p>
				<p>2. 灰色固定关键帧：不可拖动，可选中，选中态为红色。</p>
				<p>3. 蓝色自由关键帧：可拖动，可选中，选中态为红色。</p>
				<p>4. 0%和100%默认存在，双击时间轴空白处可创建自由关键帧。</p>
				<p>5. 选中关键帧后即可改变左边侧栏的相关参数，或拖动动画元素位置进行创建动画。</p>
				<p>6. 所有关键帧动画创建完毕，点击顶部播放按钮即可播放动画。</p>
			</div>
			<div class="animate-process" style="display: none;">
				<button gid="1234" class="btn first selected" value="0%">0%</button>
				<button gid="2345" class="btn last" value="60%">60%</button>
				<button gid="3456" class="btn last" value="100%">100%</button>
			</div>
		</div>
		
	</div><!--.clover-content end-->
	<footer class="clover-footer">lincoapp clover by gavinning@2014-2015</footer>
</div>

<script src="js/libs/socket.io.js"></script>
<script src="js/require.js"></script>
<script src="js/require.config.js"></script>
<script>
require(['zepto', 'home'], function($, home){

	// Zepto扩展重绘
	$.fn.reflow =  function (){
	    this.each(function(){
	        this.nodeType && this.nodeType==1 && getComputedStyle(this).zoom;
	    }); 
	    return this;
	};

	home.reg();
});
</script>
<script>
// 本地环境尝试连接socket服务器
// if(location.hostname.indexOf('127') >= 0 || location.hostname.indexOf('localhost') >= 0){
// 	var socket = io('http://localhost:8080');
// 	socket.on('ready', function(data){
// 		console.log(data)
// 	})
// 	socket.on('change', function (data) {
// 		if(data.change){
// 			location.reload();
// 		}
// 	});
// }
</script>
</body>
</html>
